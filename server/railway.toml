[build]
builder = "NIXPACKS"
root = "server"
buildCommand = "npm ci"

[deploy]
startCommand = "npm run start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check (Railway vai pingar este endpoint)
healthcheckPath = "/health"
healthcheckTimeout = 100

# Vari√°veis de ambiente (configurar no Railway Dashboard)
# REDIS_URL - Railway Redis fornece automaticamente
# PORT - Railway fornece automaticamente
# BASE_URL - https://seu-app.railway.app

[env]
NODE_ENV = "production"
